@model OnlineSchool.Models.DBModel.TestLesson
@{
    ViewData["Title"] = "Тест";
    Layout = "~/Views/Shared/Client_Layout.cshtml";
}
<form asp-action="CheckTest">
    <div class="row">
        <div class="col-md-8">
            <div class="form-group">
                <input type="hidden" asp-for="Id" />
                <input type="hidden" name="IdLesson" value="@ViewBag.IdLesson" />
                <input type="hidden" name="HintId" value="@ViewBag.Hint" />
                <h3>Вопрос: @Model.Question</h3>
                <hr />
                @if (!String.IsNullOrEmpty(Model.AnswerOne))
                {
                    <div class="form-check">
                        <input class="form-check-input" type="radio" id="Answer" name="Answer" value="1" />
                        <label for="Answer" class="form-check-label">@Model.AnswerOne</label>
                        <br>
                    </div>
                }
                @if (!String.IsNullOrEmpty(Model.AnswerTwo))
                {
                    <div class="form-check">
                        <input class="form-check-input" type="radio" id="Answer" name="Answer" value="2" />
                        <label for="Answer" class="form-check-label">@Model.AnswerTwo</label>
                        <br>
                    </div>
                }
                @if (!String.IsNullOrEmpty(Model.AnswerThree))
                {
                    <div class="form-check">
                        <input class="form-check-input" type="radio" id="Answer" name="Answer" value="3" />
                        <label for="Answer" class="form-check-label">@Model.AnswerThree</label>
                        <br>
                    </div>
                }
                @if (!String.IsNullOrEmpty(Model.AnswerFour))
                {
                    <div class="form-check">
                        <input class="form-check-input" type="radio" id="Answer" name="Answer" value="4" />
                        <label for="Answer" class="form-check-label">@Model.AnswerFour</label>
                        <br>
                    </div>
                }
                @if (!String.IsNullOrEmpty(Model.AnswerFive))
                {
                    <div class="form-check">
                        <input class="form-check-input" type="radio" id="Answer" name="Answer" value="5" />
                        <label for="Answer" class="form-check-label">@Model.AnswerFive</label>
                        <br>
                    </div>
                }
            </div>
        </div>
        <div class="col-md-4">
            <div>
                <span id="timer"></span>
            </div>
            <div class="form-group" id="hint" hidden>
                <label asp-for="HintQuestion" class="control-label">@Model.HintQuestion</label>
            </div>
        </div>
    </div>
    <input type="submit" value="Отправить" />
</form>

<script type="text/javascript">

    function getHint() {
        document.getElementById("hint").hidden = false;
        document.getElementById("timer").innerHTML = "Время на ответ вышло";
    }

    window.onload = function() {

        var sec = 15;
        let timerOne = setInterval(function() {

            if (10 <= sec) {
                document.getElementById("timer").innerHTML = "Время на ответ - 00:" + sec;
            }
            else {
                document.getElementById("timer").innerHTML = "Время на ответ - 00:0" + sec;
            }
            sec--;

        }, 900);

        setTimeout(() => { clearInterval(timerOne); getHint(); }, 15000);
    }
</script>

